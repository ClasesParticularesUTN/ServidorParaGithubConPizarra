<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Prueba Pizarra</title>
    <style>
        canvas {
            border: 1px solid #ccc;
            background: white;
            cursor: crosshair;
        }
    </style>
</head>
<body>
    <h1>Prueba Pizarra</h1>
    <canvas id="test-canvas" width="800" height="600"></canvas>
    <br>
    <button onclick="clearCanvas()">Limpiar</button>

    <script>
        const canvas = document.getElementById('test-canvas');
        const context = canvas.getContext('2d');

        let dibujando = false;
        let lastX, lastY;

        // Función para dibujar línea entre dos puntos
        function dibujarLinea(x1, y1, x2, y2) {
            context.strokeStyle = '#000000';
            context.lineWidth = 2;
            context.lineCap = 'round';
            context.lineJoin = 'round';

            context.beginPath();
            context.moveTo(x1, y1);
            context.lineTo(x2, y2);
            context.stroke();
        }

        canvas.addEventListener('mousedown', (e) => {
            dibujando = true;
            const rect = canvas.getBoundingClientRect();
            lastX = e.clientX - rect.left;
            lastY = e.clientY - rect.top;
            console.log('Mouse down:', lastX, lastY);
        });

        canvas.addEventListener('mousemove', (e) => {
            if (!dibujando) return;

            const rect = canvas.getBoundingClientRect();
            const currentX = e.clientX - rect.left;
            const currentY = e.clientY - rect.top;

            dibujarLinea(lastX, lastY, currentX, currentY);
            console.log('Drawing line:', lastX, lastY, 'to', currentX, currentY);

            lastX = currentX;
            lastY = currentY;
        });

        canvas.addEventListener('mouseup', () => {
            dibujando = false;
            console.log('Mouse up');
        });

        function clearCanvas() {
            context.clearRect(0, 0, canvas.width, canvas.height);
        }
    </script>
</body>
</html>